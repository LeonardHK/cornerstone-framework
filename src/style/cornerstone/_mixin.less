@import "lesshat";

.ellipsis(@width: 100%) {
  width: @width;
  text-overflow: ellipsis;
  display: inline-block;
  overflow: hidden;
}

.flex-box() {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flexbox;
}
.flex( @val : 1 ) {
  -webkit-box-flex: @val;
  -moz-box-flex: @val;
  box-flex: @val;
}

.font-face(@name, @fn, @p, @fontWeight:normal) {
  font-family: '@{name}';
  src: url('@{p}/@{fn}.eot');
  // local 속성을 작성할 경우 클라이언트에 해당 글꼴이 있으면 웹폰트를 적용하지 않는다.
  src: local('NanumGothic'), url('@{p}/@{fn}.eot?#iefix') format('embedded-opentype'), url('@{p}/@{fn}.woff2') format('woff2'), url('@{p}/@{fn}.woff') format('woff'), url('@{p}/@{fn}.ttf') format('truetype');
  font-weight: @fontWeight;
  font-style: normal;
}

// Gradient Bar Colors for buttons and alerts
.gradient-bar(@primaryColor, @secondaryColor) {
  #gradient > .vertical(@primaryColor, @secondaryColor);
  border-color: @secondaryColor @secondaryColor darken(@secondaryColor, 15%);
  border-color: rgba(0, 0, 0, .1) rgba(0, 0, 0, .1) fadein(rgba(0, 0, 0, .1), 15%);
}

.button-background(@startColor, @endColor) {
  .gradient-bar(@startColor, @endColor);
  &:hover, &:active, &.active, &.disabled, &[disabled] {
    background-color: @endColor;
  }
}

.placeholder-color(@color: #FFF) {
  &::-webkit-input-placeholder {
    color: @color;
  }
  &:-moz-placeholder {
    color: @color;
  }
  &::-moz-placeholder {
    color: @color;
  }
  &:-ms-input-placeholder {
    color: @color;
  }
}

// GRADIENTS
// --------------------------------------------------

#cs-gradient {
  // Horizontal gradient, from left to right
  //
  // Creates two color stops, start and end, by specifying a color and position for each color stop.
  // Color stops are not available in IE9 and below.
  .horizontal(@start-color: #555; @end-color: #333; @start-percent: 0%; @end-percent: 100%) {
    background-color: @end-color;
    background-image: -webkit-gradient(linear, @start-percent top, @end-percent top, from(@start-color), to(@end-color)); // Safari 4+, Chrome 2+
    background-image: -webkit-linear-gradient(left, color-stop(@start-color @start-percent), color-stop(@end-color @end-percent)); // Safari 5.1+, Chrome 10+
    background-image: -moz-linear-gradient(left, @start-color @start-percent, @end-color @end-percent); // FF 3.6+
    background-image:  linear-gradient(to right, @start-color @start-percent, @end-color @end-percent); // Standard, IE10
    background-repeat: repeat-x;
  }

  // Vertical gradient, from top to bottom
  //
  // Creates two color stops, start and end, by specifying a color and position for each color stop.
  // Color stops are not available in IE9 and below.
  .vertical(@start-color: #555; @end-color: #333; @start-percent: 0%; @end-percent: 100%) {
    background-color: @end-color;
    background-image: -webkit-gradient(linear, left @start-percent, left @end-percent, from(@start-color), to(@end-color)); // Safari 4+, Chrome 2+
    background-image: -webkit-linear-gradient(top, @start-color, @start-percent, @end-color, @end-percent); // Safari 5.1+, Chrome 10+
    background-image:  -moz-linear-gradient(top, @start-color @start-percent, @end-color @end-percent); // FF 3.6+
    background-image: linear-gradient(to bottom, @start-color @start-percent, @end-color @end-percent); // Standard, IE10
    background-repeat: repeat-x;
  }

  .directional(@start-color: #555; @end-color: #333; @deg: 45deg) {
    background-color: @end-color;
    background-repeat: repeat-x;
    background-image: -webkit-linear-gradient(@deg, @start-color, @end-color); // Safari 5.1+, Chrome 10+
    background-image: -moz-linear-gradient(@deg, @start-color, @end-color); // FF 3.6+
    background-image: linear-gradient(@deg, @start-color, @end-color); // Standard, IE10
  }
  .horizontal-three-colors(@start-color: #00b3ee; @mid-color: #7a43b6; @color-stop: 50%; @end-color: #c3325f) {
    background-color: mix(@mid-color, @end-color, 80%);
    background-image: -webkit-gradient(left, linear, 0 0, 0 100%, from(@start-color), color-stop(@color-stop, @mid-color), to(@end-color));
    background-image: -webkit-linear-gradient(left, @start-color, @mid-color @color-stop, @end-color);
    background-image: -moz-linear-gradient(left, @start-color, @mid-color @color-stop, @end-color);
    background-image: linear-gradient(to right, @start-color, @mid-color @color-stop, @end-color);
    background-repeat: no-repeat;
  }

  .vertical-three-colors(@start-color: #00b3ee; @mid-color: #7a43b6; @color-stop: 50%; @end-color: #c3325f) {
    background-color: mix(@mid-color, @end-color, 80%);
    background-image: -webkit-gradient(linear, 0 0, 0 100%, from(@start-color), color-stop(@color-stop, @mid-color), to(@end-color));
    background-image: -webkit-linear-gradient(@start-color, @mid-color @color-stop, @end-color);
    background-image: -moz-linear-gradient(top, @start-color, @mid-color @color-stop, @end-color);
    background-image: linear-gradient(@start-color, @mid-color @color-stop, @end-color);
    background-repeat: no-repeat;
  }
  .radial(@inner-color: #555; @outer-color: #333) {
    background-color: @outer-color;
    background-image: -webkit-gradient(radial, center center, 0, center center, 460, from(@inner-color), to(@outer-color));
    background-image: -webkit-radial-gradient(circle, @inner-color, @outer-color);
    background-image: -moz-radial-gradient(circle, @inner-color, @outer-color);
    background-image: radial-gradient(circle, @inner-color, @outer-color);
    background-repeat: no-repeat;
  }
  .striped(@color: #555; @angle: 45deg) {
    background-color: @color;
    background-image: -webkit-gradient(linear, 0 100%, 100% 0, color-stop(.25, rgba(255,255,255,.15)), color-stop(.25, transparent), color-stop(.5, transparent), color-stop(.5, rgba(255,255,255,.15)), color-stop(.75, rgba(255,255,255,.15)), color-stop(.75, transparent), to(transparent));
    background-image: -webkit-linear-gradient(@angle, rgba(255,255,255,.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,.15) 50%, rgba(255,255,255,.15) 75%, transparent 75%, transparent);
    background-image: -moz-linear-gradient(@angle, rgba(255,255,255,.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,.15) 50%, rgba(255,255,255,.15) 75%, transparent 75%, transparent);
    background-image: linear-gradient(@angle, rgba(255,255,255,.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,.15) 50%, rgba(255,255,255,.15) 75%, transparent 75%, transparent);
  }
}

.gradient-vertical-four(
  @first-color, @first-position,
  @second-color, @second-position,
  @third-color, @third-position,
  @fourth-color, @fourth-position
) {
  background: -moz-linear-gradient(top, @first-color @first-position, @second-color @second-position, @third-color @third-position, @fourth-color @fourth-position);
  background: -webkit-gradient(linear, left top, left bottom, color-stop(@first-position, @first-color), color-stop(@second-position, @second-color), color-stop(@third-position, @third-color), color-stop(@fourth-position, @fourth-color));
  background: -webkit-linear-gradient(top, @first-color @first-position, @second-color @second-position, @third-color @third-position, @fourth-color @fourth-position);
  background: -o-linear-gradient(top, @first-color @first-position, @second-color @second-position, @third-color @third-position, @fourth-color @fourth-position);
  background: -ms-linear-gradient(top, @first-color @first-position, @second-color @second-position, @third-color @third-position, @fourth-color @fourth-position);
  background: linear-gradient(to bottom, @first-color @first-position, @second-color @second-position, @third-color @third-position, @fourth-color @fourth-position);
}

.gradient-vertical-without-color(@startColor: #555, @endColor: #333) {
  background-image: -moz-linear-gradient(top, @startColor, @endColor); // FF 3.6+
  background-image: -webkit-gradient(linear, 0 0, 0 100%, from(@startColor), to(@endColor)); // Safari 4+, Chrome 2+
  background-image: -webkit-linear-gradient(top, @startColor, @endColor); // Safari 5.1+, Chrome 10+
  background-image: -o-linear-gradient(top, @startColor, @endColor); // Opera 11.10
  background-image: linear-gradient(to bottom, @startColor, @endColor); // Standard, IE10
  background-repeat: repeat-x;
}

//
// Cornerstone Util
// --------------------------------------------------

// 변수값이 있는 경우만 적용
.cs-mixin(@mixin-name, @value) when not (@value = "") {
  .result(@mixin-name) when (@mixin-name = box-shadow) { .box-shadow(@value); }
  .result(@mixin-name) when (@mixin-name = background-image) { .background-image(@value); }
  // 적용
  .result(@mixin-name);
}
.cs-property(@property-name, @value) when not (@value = "") {
  .result(@property-name) when (@property-name = margin) { margin: @value; }
  .result(@property-name) when (@property-name = padding) { padding: @value; }
  .result(@property-name) when (@property-name = display) { display: @value; }

  .result(@property-name) when (@property-name = border) { border: @value; }
  .result(@property-name) when (@property-name = border-top) { border: @value; }
  .result(@property-name) when (@property-name = border-right) { border-right: @value; }
  .result(@property-name) when (@property-name = border-bottom) { border-bottom: @value; }
  .result(@property-name) when (@property-name = border-left) { border-left: @value; }
  .result(@property-name) when (@property-name = border-radius) { border-radius: @value; }

  .result(@property-name) when (@property-name = background) { background: @value; }
  .result(@property-name) when (@property-name = background-image) { background-image: @value; }
  .result(@property-name) when (@property-name = background-color) { background-color: @value; }
  .result(@property-name) when (@property-name = background-size) { background-size: @value; }

  .result(@property-name) when (@property-name = text-decoration) { text-decoration: @value; }
  .result(@property-name) when (@property-name = color) { color: @value; }

  // 적용
  .result(@property-name);
}