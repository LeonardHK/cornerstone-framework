<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>widget-rangeinput.js</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.1&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.5.1&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/RangeInput.html">RangeInput</a></li>
            
                <li><a href="..&#x2F;classes/Touch.html">Touch</a></li>
            
                <li><a href="..&#x2F;classes/Widget.html">Widget</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: widget-rangeinput.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;*
 *  Project: SKT HTML5 Framework
 *  CodeName : CornerStone
 *  FileName : widget.js
 *  Description: widget.js은 각종 플러그인들의 wrapping, 커스텀 플러그인, 전후 처리를 통한 최적화 및 공통적인 터치 기능 등과 같은 작업을 처리한다.
 *  Author: 김우섭
 *  License :
 *&#x2F;

&#x2F;&#x2F; 세미콜론은 패키징 작업시 앞쪽 스크립트가 닫지 않은 경우 오류를 사전에 막기 위함
;
(function (root, doc, factory) {
    if (typeof define === &quot;function&quot; &amp;&amp; define.amd) {
        &#x2F;&#x2F; AMD. Register as an anonymous module.
        define([ &quot;jquery&quot; ], function ($) {
            factory($, root, doc);
        });
    } else {
        &#x2F;&#x2F; Browser globals
        factory(root.jQuery, root, doc);
    }
}(this, document, function (jQuery, window, document, undefined) {
    var defaultOptions = {
        min:0,
        max:100,
        step:&#x27;any&#x27;,
        steps:0,
        value:0,
        precision:undefined,
        vertical:0,
        keyboard:false,
        progress:false,
        speed:100,
        inputShow:false,
        css:{
            input:&#x27;range&#x27;,
            slider:&#x27;slider&#x27;,
            progress:&#x27;progress&#x27;,
            handle:&#x27;handle&#x27;
        }
    };

    &#x2F;**
     @class RangeInput
     @constructor
     *&#x2F;
    var RangeInput = function (element, options) {
        this.options = options;
        this.$element = $(element);
    };

    RangeInput.prototype = {
        constructor:this.create,
        round:function (value, precision) {
            var n = Math.pow(10, precision);
            return Math.round(value * n) &#x2F; n;
        },

        dim:function (el, key) {
            var v = parseInt(el.css(key), 10);
            if (v) {
                return v;
            }
            var s = el[0].currentStyle;
            return s &amp;&amp; s.width &amp;&amp; parseInt(s.width, 10);
        },

        hasEvent:function (el) {

        },

        _create:function (input, option) {
            var self = this,
                css = option.css,
                root = $(&quot;&lt;div&gt;&lt;div&#x2F;&gt;&lt;a href=&#x27;#&#x27;&#x2F;&gt;&lt;&#x2F;div&gt;&quot;).data(&quot;this.create&quot;, self),
                vertical,
                value, &#x2F;&#x2F; current value
                origo, &#x2F;&#x2F; handle&#x27;s start point
                len, &#x2F;&#x2F; length of the range
                pos;				&#x2F;&#x2F; current position of the handle

            &#x2F;&#x2F; UI 엘리먼트 생성
            input.before(root);

            var handle = root.addClass(css.slider).find(&quot;a&quot;).addClass(css.handle),
                progress = root.find(&quot;div&quot;).addClass(css.progress);

            $.each(&quot;min,max,step,value&quot;.split(&quot;,&quot;), function (i, key) {
                var val = input.attr(key);
                if (parseFloat(val)) {
                    option[key] = parseFloat(val, 10);
                }
            });

            var range = option.max - option.min,
                step = option.step == &#x27;any&#x27; ? 0 : option.step,
                precision = option.precision;

            if (precision === undefined) {
                precision = step.toString().split(&quot;.&quot;);
                precision = precision.length === 2 ? precision[1].length : 0;
            }

            &#x2F;&#x2F; Replace built-in range input (type attribute cannot be changed)
            if (input.attr(&quot;type&quot;) == &#x27;range&#x27;) {
                var def = input.clone().wrap(&quot;&lt;div&#x2F;&gt;&quot;).parent().html(),
                    clone = $(def.replace(&#x2F;type&#x2F;i, &quot;type=tel data-orig-type&quot;));

                clone.val(option.value);
                input.replaceWith(clone);
                input = clone;
            }

            input.addClass(css.input);

            &#x2F;&#x2F; input UI를 노출시키고 싶지 않은 경우 처리
            if (!option.inputShow) {
                input.css({
                    position:&quot;absolute&quot;,
                    left:&quot;-10000em&quot;
                });
            }

            var fire = $(self).add(input), fireOnSlide = true;

            &#x2F;**
             * range 슬라이드 함수
             * 수직 슬라이드 구현예정
             *&#x2F;
            function slide(evt, x, val, isSetValue) {

                &#x2F;&#x2F; calculate value based on slide position
                if (val === undefined) {
                    val = x &#x2F; len * range;

                    &#x2F;&#x2F; x is calculated based on val. we need to strip off min during calculation
                } else if (isSetValue) {
                    val -= option.min;
                }

                &#x2F;&#x2F; increment in steps
                if (step) {
                    val = Math.round(val &#x2F; step) * step;
                }

                &#x2F;&#x2F; count x based on value or tweak x if stepping is done
                if (x === undefined || step) {
                    x = val * len &#x2F; range;
                }

                &#x2F;&#x2F; crazy value?
                if (isNaN(val)) {
                    return self;
                }

                &#x2F;&#x2F; stay within range
                x = Math.max(0, Math.min(x, len));
                val = x &#x2F; len * range;

                if (isSetValue || !vertical) {
                    val += option.min;
                }

                &#x2F;&#x2F; in vertical ranges value rises upwards
                if (vertical) {
                    if (isSetValue) {
                        x = len - x;
                    } else {
                        val = option.max - val;
                    }
                }

                &#x2F;&#x2F; precision
                val = round(val, precision);

                &#x2F;&#x2F; onSlide
                var isClick = evt.type == &quot;click&quot;;
                if (fireOnSlide &amp;&amp; value !== undefined &amp;&amp; !isClick) {
                    evt.type = &quot;onSlide&quot;;
                    fire.trigger(evt, [val, x]);
                    if (evt.isDefaultPrevented()) {
                        return self;
                    }
                }

                &#x2F;&#x2F; speed &amp; callback
                &#x2F;&#x2F; 터치 거리에 따른 가속도값 필요
                var speed = isClick ? option.speed : 0,
                    callback = isClick ? function () {
                        evt.type = &quot;change&quot;;
                        fire.trigger(evt, [val]);
                    } : null;

                if (vertical) {
                    this.progressHeight = len - x + handle.height() &#x2F; 2;
                    if ($.browser.os === &quot;IOS&quot; &amp;&amp; $.browser.version &gt; 4) {
                        handle.animate({
                            top:x
                        }, speed, callback);
                    } else {
                        handle.transition({
                            y:x
                        }, speed, callback);
                    }
                    if (false &amp;&amp; option.progress) {
                        progress.css({
                            height:this.progressHeight
                        });
                    }
                } else {
                    this.progressWidth = x + handle.width() &#x2F; 2;
                    if ($.browser.os === &quot;IOS&quot; &amp;&amp; $.browser.version &gt; 4) {
                        handle.animate({
                            left:x
                        }, speed, callback);
                    } else {
                        handle.transition({
                            x:x
                        }, speed, callback);
                    }
                    if (option.progress) {
                        progress.css({
                            transform:&quot;scale(1,1)&quot;
                        });
                    }
                }

                &#x2F;&#x2F; 현재값과 좌표 저장
                value = val;
                pos = x;

                if (!this.insertingValue &amp;&amp; input[0].value != val) {
                    this.insertingValue = true;
                    input[0].value = val;
                    this.insertingValue = false;
                }

                return self;
            }


            $.extend(self, {

                getValue:function () {
                    return value;
                },

                setValue:function (val, e) {
                    init();
                    return slide(e || $.Event(&quot;api&quot;), undefined, val, true);
                },

                getOption:function () {
                    return option;
                },

                getProgress:function () {
                    return progress;
                },

                getHandle:function () {
                    return handle;
                },

                getInput:function () {
                    return input;
                },

                step:function (am, e) {
                    e = e || $.Event();
                    var step = option.step == &#x27;any&#x27; ? 1 : option.step;
                    self.setValue(value + step * (am || 1), e);
                },

                &#x2F;&#x2F; HTML5 compatible name
                stepUp:function (am) {
                    return self.step(am || 1);
                },

                &#x2F;&#x2F; HTML5 compatible name
                stepDown:function (am) {
                    return self.step(-am || -1);
                }

            });

            &#x2F;&#x2F; callbacks
            $.each(&quot;onSlide,change&quot;.split(&quot;,&quot;), function (i, name) {

                &#x2F;&#x2F; from optioniguration
                if ($.isFunction(option[name])) {
                    $(self).on(name, option[name]);
                }

                &#x2F;&#x2F; API methods
                self[name] = function (fn) {
                    if (fn) {
                        $(self).on(name, fn);
                    }
                    return self;
                };
            });


            &#x2F;&#x2F; dragging
            handle.drag({drag:false}).on(&quot;dragStart&quot;,function () {

                &#x2F;* do some pre- calculations for seek() function. improves performance *&#x2F;
                init();

                &#x2F;&#x2F; avoid redundant event triggering (= heavy stuff)
                fireOnSlide = this.hasEvent($(self)) || this.hasEvent(input);


            }).on(&quot;drag&quot;,function (e, y, x) {

                    if (input.is(&quot;:disabled&quot;)) {
                        return false;
                    }
                    slide(e, vertical ? y : x);

                }).on(&quot;dragEnd&quot;,function (e) {
                    if (!e.isDefaultPrevented()) {
                        e.type = &quot;change&quot;;
                        fire.trigger(e, [value]);
                    }

                }).click(function (e) {
                    return e.preventDefault();
                });

            &#x2F;&#x2F; clicking
            root.click(function (e) {
                if (input.is(&quot;:disabled&quot;) || e.target == handle[0]) {
                    return e.preventDefault();
                }
                init();
                var fix = vertical ? handle.height() &#x2F; 2 : handle.width() &#x2F; 2;
                slide(e, vertical ? len - origo - fix + e.pageY : e.pageX - origo - fix);
            });

            if (option.keyboard) {

                input.keydown(function (e) {

                    if (input.attr(&quot;readonly&quot;)) {
                        return;
                    }

                    var key = e.keyCode,
                        up = $([75, 76, 38, 33, 39]).index(key) != -1,
                        down = $([74, 72, 40, 34, 37]).index(key) != -1;

                    if ((up || down) &amp;&amp; !(e.shiftKey || e.altKey || e.ctrlKey)) {

                        &#x2F;&#x2F; UP: 	k=75, l=76, up=38, pageup=33, right=39
                        if (up) {
                            self.step(key == 33 ? 10 : 1, e);

                            &#x2F;&#x2F; DOWN:	j=74, h=72, down=40, pagedown=34, left=37
                        } else if (down) {
                            self.step(key == 34 ? -10 : -1, e);
                        }
                        return e.preventDefault();
                    }
                });
            }

            input.blur(function (e) {
                var val = $(this).val();
                if (val !== value) {
                    self.setValue(val, e);
                }
            });


            &#x2F;&#x2F; HTML5 DOM methods
            $.extend(input[0], { stepUp:self.stepUp, stepDown:self.stepDown});


            &#x2F;&#x2F; calculate all this.dimension related stuff
            function init() {
                vertical = option.vertical || this.dim(root, &quot;height&quot;) &gt; this.dim(root, &quot;width&quot;);

                if (vertical) {
                    len = this.dim(root, &quot;height&quot;) - this.dim(handle, &quot;height&quot;);
                    origo = root.offset().top + len;

                } else {
                    len = this.dim(root, &quot;width&quot;) - this.dim(handle, &quot;width&quot;);
                    origo = root.offset().left;
                }
            }

            function begin() {
                init();
                self.setValue(option.value !== undefined ? option.value : option.min);
            }

            begin();

            &#x2F;&#x2F; some browsers cannot get this.dimensions upon initialization
            if (!len) {
                $(window).load(begin);
            }
        }
    };

    $.expr[&#x27;:&#x27;].range = function (el) {
        var type = el.getAttribute(&quot;type&quot;);
        return type &amp;&amp; type == &#x27;range&#x27; || !!$(el).filter(&quot;input&quot;).data(&quot;this.create&quot;);
    };

    &#x2F;**
     ### 사용법
     $().rangeinput

     ### 플러그인 옵션

     설정 | 타입 | 기본값 | 설명
     :---- | :---- | :---- | :----
     min | number | 0 | 범위 최소값
     max | number | 100 | 범위 최대값
     value | number | 0 | 현재 값
     progress | boolean | false | 범위 조절시 현재값까지 Bar 배경색 노출 여부
     inputShow | boolean | false | 입력 화면 노출 여부

     @method $().rangeinput
     @param option{string} 사용자가 정의한 설정 설정값
     @return {jQuery} chainable jQuery 클래스
     *&#x2F;
    $.fn.rangeinput = function (options) {

        &#x2F;&#x2F; already installed
        if (this.data(&quot;this.create&quot;)) {
            return this;
        }

        &#x2F;&#x2F; extend configuration with globals
        options = $.extend(true, {}, defaultOptions, options);

        var els;

        this.each(function () {
            var el = new RangeInput($(this), $.extend(true, {}, options));
            var input = el.getInput().data(&quot;rangeinput&quot;, el);
            els = els ? els.add(input) : input;
        });

        return els ? els : this;
    };

    $.fn.rangeinput.Constructor = RangeInput;


    &#x2F;* DATA-API
     * ============ *&#x2F;

&#x2F;&#x2F;    $(function () {
&#x2F;&#x2F;        $(&#x27;body&#x27;).on(&#x27;click.tab.data-api&#x27;, &#x27;[data-toggle=&quot;tab&quot;], [data-toggle=&quot;pill&quot;]&#x27;, function (e) {
&#x2F;&#x2F;            e.preventDefault()
&#x2F;&#x2F;            $(this).tab(&#x27;show&#x27;)
&#x2F;&#x2F;        })
&#x2F;&#x2F;    })
}));
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
