<!DOCTYPE html>
<html>
<head>
    <title>CornerStone :: Page Transiton 화면전환</title>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, height=device-height">

    <link rel="stylesheet" href="libs/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="libs/bootstrap/css/bootstrap-responsive.css">
    <link rel="stylesheet" href="css/fonts/stylesheet.css">
    <link rel="stylesheet" href="css/style.css">
    <style type="text/css">
        body {
            overflow: hidden !important;
        }

        .header {
            color: #717880;
            font-size: 18px;
            text-align: center;
            margin: 0;
        }

        footer {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 48px;
            background-image: -webkit-gradient(linear, 0 0, 0 100%, color-stop(0, #999), color-stop(0.02, #666), color-stop(1, #222));
            background-image: -moz-linear-gradient(top, #999, #666 2%, #222);
            background-image: -o-linear-gradient(top, #999, #666 2%, #222);
            padding: 0;
            border-top: 1px solid #444;
        }

        #front, #back {
            position: relative;
            height: 470px;
            overflow: hidden;
        }

        .scroller {
            position: absolute;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
            width: 100%;
        }
    </style>
</head>
<body>
<div class="header navbar">
    <div class="navbar-inner">
        <div class="container">
            <a class="brand" href="index.html">CornerStone</a>
        </div>
    </div>
</div>
<div class="container-fluid">
<div class="row-fluid">
<div id="front" class="current span12">
    <div class="scroller">
        <div class="row-fluid">
            <div class="span6">
                <button class="full-width btn " data-transition="flip">Flip</button>
            </div>
            <div class="span6">
                <button class="full-width btn " data-transition="spin">Spin</button>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span4">
                <button class="full-width btn " data-transition="slide">Slide</button>
            </div>
            <div class="span4">
                <button class="full-width btn " data-transition="slideup">Slide Up</button>
            </div>
            <div class="span4">
                <button class="full-width btn " data-transition="slidedown">Slide Down</button>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span6">
                <button class="full-width btn " data-transition="pop">Pop</button>
            </div>
            <div class="span6">
                <button class="full-width btn " data-transition="fade">Fade</button>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span6">
                <button class="full-width btn " data-transition="turn">Turn</button>
            </div>
        </div>
    </div>
</div>

<div id="back" class="span12">
<div class="scroller">
<h3>화면전환용 테스트 페이지2</h3>

<form class="form-horizontal" action="#">
    <fieldset>
        <div class="control-group">
            <label class="control-label" for="focusedInput">Focused input</label>

            <div class="controls">
                <input class="input-xlarge focused" id="focusedInput" type="text"
                       value="This is focused…">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="disabledInput">Disabled input</label>

            <div class="controls">
                <input class="input-xlarge disabled" id="disabledInput" type="text"
                       placeholder="Disabled input here…" disabled="">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="optionsCheckbox2">Disabled checkbox</label>

            <div class="controls">
                <label class="checkbox">
                    <input type="checkbox" id="optionsCheckbox2" value="option1" disabled="">
                    This is a disabled checkbox
                </label>
            </div>
        </div>
        <div class="control-group warning">
            <label class="control-label" for="inputWarning">Input with warning</label>

            <div class="controls">
                <input type="text" id="inputWarning">
                <span class="help-inline">Something may have gone wrong</span>
            </div>
        </div>
        <div class="control-group success">
            <label class="control-label" for="selectError">Select with success</label>

            <div class="controls">
                <select id="selectError">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <span class="help-inline">Woohoo!</span>
            </div>
        </div>
    </fieldset>
</form>
<div class="form-actions">
    <button class="btn btn-primary">확인</button>
    <button class="btn">뒤로가기</button>
</div>

<form class="form-horizontal" action="#">
    <fieldset>
        <div class="control-group">
            <label class="control-label" for="focusedInput">Focused input</label>

            <div class="controls">
                <input class="input-xlarge focused" id="focusedInput" type="text"
                       value="This is focused…">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="disabledInput">Disabled input</label>

            <div class="controls">
                <input class="input-xlarge disabled" id="disabledInput" type="text"
                       placeholder="Disabled input here…" disabled="">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="optionsCheckbox2">Disabled checkbox</label>

            <div class="controls">
                <label class="checkbox">
                    <input type="checkbox" id="optionsCheckbox2" value="option1" disabled="">
                    This is a disabled checkbox
                </label>
            </div>
        </div>
        <div class="control-group warning">
            <label class="control-label" for="inputWarning">Input with warning</label>

            <div class="controls">
                <input type="text" id="inputWarning">
                <span class="help-inline">Something may have gone wrong</span>
            </div>
        </div>
        <div class="control-group success">
            <label class="control-label" for="selectError">Select with success</label>

            <div class="controls">
                <select id="selectError">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <span class="help-inline">Woohoo!</span>
            </div>
        </div>
    </fieldset>
</form>
<div class="form-actions">
    <button class="btn btn-primary">확인</button>
    <button class="btn">뒤로가기</button>
</div>

<form class="form-horizontal" action="#">
    <fieldset>
        <div class="control-group">
            <label class="control-label" for="focusedInput">Focused input</label>

            <div class="controls">
                <input class="input-xlarge focused" id="focusedInput" type="text"
                       value="This is focused…">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="disabledInput">Disabled input</label>

            <div class="controls">
                <input class="input-xlarge disabled" id="disabledInput" type="text"
                       placeholder="Disabled input here…" disabled="">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="optionsCheckbox2">Disabled checkbox</label>

            <div class="controls">
                <label class="checkbox">
                    <input type="checkbox" id="optionsCheckbox2" value="option1" disabled="">
                    This is a disabled checkbox
                </label>
            </div>
        </div>
        <div class="control-group warning">
            <label class="control-label" for="inputWarning">Input with warning</label>

            <div class="controls">
                <input type="text" id="inputWarning">
                <span class="help-inline">Something may have gone wrong</span>
            </div>
        </div>
        <div class="control-group success">
            <label class="control-label" for="selectError">Select with success</label>

            <div class="controls">
                <select id="selectError">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <span class="help-inline">Woohoo!</span>
            </div>
        </div>
    </fieldset>
</form>
<div class="form-actions">
    <button class="btn btn-primary">확인</button>
    <button class="btn">뒤로가기</button>
</div>

<form class="form-horizontal" action="#">
    <fieldset>
        <div class="control-group">
            <label class="control-label" for="focusedInput">Focused input</label>

            <div class="controls">
                <input class="input-xlarge focused" id="focusedInput" type="text"
                       value="This is focused…">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="disabledInput">Disabled input</label>

            <div class="controls">
                <input class="input-xlarge disabled" id="disabledInput" type="text"
                       placeholder="Disabled input here…" disabled="">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="optionsCheckbox2">Disabled checkbox</label>

            <div class="controls">
                <label class="checkbox">
                    <input type="checkbox" id="optionsCheckbox2" value="option1" disabled="">
                    This is a disabled checkbox
                </label>
            </div>
        </div>
        <div class="control-group warning">
            <label class="control-label" for="inputWarning">Input with warning</label>

            <div class="controls">
                <input type="text" id="inputWarning">
                <span class="help-inline">Something may have gone wrong</span>
            </div>
        </div>
        <div class="control-group success">
            <label class="control-label" for="selectError">Select with success</label>

            <div class="controls">
                <select id="selectError">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <span class="help-inline">Woohoo!</span>
            </div>
        </div>
    </fieldset>
</form>
<div class="form-actions">
    <button class="btn btn-primary">확인</button>
    <button class="btn">뒤로가기</button>
</div>

<form class="form-horizontal" action="#">
    <fieldset>
        <div class="control-group">
            <label class="control-label" for="focusedInput">Focused input</label>

            <div class="controls">
                <input class="input-xlarge focused" id="focusedInput" type="text"
                       value="This is focused…">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="disabledInput">Disabled input</label>

            <div class="controls">
                <input class="input-xlarge disabled" id="disabledInput" type="text"
                       placeholder="Disabled input here…" disabled="">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="optionsCheckbox2">Disabled checkbox</label>

            <div class="controls">
                <label class="checkbox">
                    <input type="checkbox" id="optionsCheckbox2" value="option1" disabled="">
                    This is a disabled checkbox
                </label>
            </div>
        </div>
        <div class="control-group warning">
            <label class="control-label" for="inputWarning">Input with warning</label>

            <div class="controls">
                <input type="text" id="inputWarning">
                <span class="help-inline">Something may have gone wrong</span>
            </div>
        </div>
        <div class="control-group success">
            <label class="control-label" for="selectError">Select with success</label>

            <div class="controls">
                <select id="selectError">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <span class="help-inline">Woohoo!</span>
            </div>
        </div>
    </fieldset>
</form>
<div class="form-actions">
    <button class="btn btn-primary">확인</button>
    <button class="btn">뒤로가기</button>
</div>

<form class="form-horizontal" action="#">
    <fieldset>
        <div class="control-group">
            <label class="control-label" for="focusedInput">Focused input</label>

            <div class="controls">
                <input class="input-xlarge focused" id="focusedInput" type="text"
                       value="This is focused…">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="disabledInput">Disabled input</label>

            <div class="controls">
                <input class="input-xlarge disabled" id="disabledInput" type="text"
                       placeholder="Disabled input here…" disabled="">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="optionsCheckbox2">Disabled checkbox</label>

            <div class="controls">
                <label class="checkbox">
                    <input type="checkbox" id="optionsCheckbox2" value="option1" disabled="">
                    This is a disabled checkbox
                </label>
            </div>
        </div>
        <div class="control-group warning">
            <label class="control-label" for="inputWarning">Input with warning</label>

            <div class="controls">
                <input type="text" id="inputWarning">
                <span class="help-inline">Something may have gone wrong</span>
            </div>
        </div>
        <div class="control-group success">
            <label class="control-label" for="selectError">Select with success</label>

            <div class="controls">
                <select id="selectError">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <span class="help-inline">Woohoo!</span>
            </div>
        </div>
    </fieldset>
</form>
<div class="form-actions">
    <button class="btn btn-primary">확인</button>
    <button class="btn">뒤로가기</button>
</div>

<form class="form-horizontal" action="#">
    <fieldset>
        <div class="control-group">
            <label class="control-label" for="focusedInput">Focused input</label>

            <div class="controls">
                <input class="input-xlarge focused" id="focusedInput" type="text"
                       value="This is focused…">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="disabledInput">Disabled input</label>

            <div class="controls">
                <input class="input-xlarge disabled" id="disabledInput" type="text"
                       placeholder="Disabled input here…" disabled="">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="optionsCheckbox2">Disabled checkbox</label>

            <div class="controls">
                <label class="checkbox">
                    <input type="checkbox" id="optionsCheckbox2" value="option1" disabled="">
                    This is a disabled checkbox
                </label>
            </div>
        </div>
        <div class="control-group warning">
            <label class="control-label" for="inputWarning">Input with warning</label>

            <div class="controls">
                <input type="text" id="inputWarning">
                <span class="help-inline">Something may have gone wrong</span>
            </div>
        </div>
        <div class="control-group success">
            <label class="control-label" for="selectError">Select with success</label>

            <div class="controls">
                <select id="selectError">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <span class="help-inline">Woohoo!</span>
            </div>
        </div>
    </fieldset>
</form>
<div class="form-actions">
    <button class="btn btn-primary">확인</button>
    <button class="btn">뒤로가기</button>
</div>

<form class="form-horizontal" action="#">
    <fieldset>
        <div class="control-group">
            <label class="control-label" for="focusedInput">Focused input</label>

            <div class="controls">
                <input class="input-xlarge focused" id="focusedInput" type="text"
                       value="This is focused…">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="disabledInput">Disabled input</label>

            <div class="controls">
                <input class="input-xlarge disabled" id="disabledInput" type="text"
                       placeholder="Disabled input here…" disabled="">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="optionsCheckbox2">Disabled checkbox</label>

            <div class="controls">
                <label class="checkbox">
                    <input type="checkbox" id="optionsCheckbox2" value="option1" disabled="">
                    This is a disabled checkbox
                </label>
            </div>
        </div>
        <div class="control-group warning">
            <label class="control-label" for="inputWarning">Input with warning</label>

            <div class="controls">
                <input type="text" id="inputWarning">
                <span class="help-inline">Something may have gone wrong</span>
            </div>
        </div>
        <div class="control-group success">
            <label class="control-label" for="selectError">Select with success</label>

            <div class="controls">
                <select id="selectError">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <span class="help-inline">Woohoo!</span>
            </div>
        </div>
    </fieldset>
</form>
<div class="form-actions">
    <button class="btn btn-primary">확인</button>
    <button class="btn">뒤로가기</button>
</div>

<form class="form-horizontal" action="#">
    <fieldset>
        <div class="control-group">
            <label class="control-label" for="focusedInput">Focused input</label>

            <div class="controls">
                <input class="input-xlarge focused" id="focusedInput" type="text"
                       value="This is focused…">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="disabledInput">Disabled input</label>

            <div class="controls">
                <input class="input-xlarge disabled" id="disabledInput" type="text"
                       placeholder="Disabled input here…" disabled="">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="optionsCheckbox2">Disabled checkbox</label>

            <div class="controls">
                <label class="checkbox">
                    <input type="checkbox" id="optionsCheckbox2" value="option1" disabled="">
                    This is a disabled checkbox
                </label>
            </div>
        </div>
        <div class="control-group warning">
            <label class="control-label" for="inputWarning">Input with warning</label>

            <div class="controls">
                <input type="text" id="inputWarning">
                <span class="help-inline">Something may have gone wrong</span>
            </div>
        </div>
        <div class="control-group success">
            <label class="control-label" for="selectError">Select with success</label>

            <div class="controls">
                <select id="selectError">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <span class="help-inline">Woohoo!</span>
            </div>
        </div>
    </fieldset>
</form>
<div class="form-actions">
    <button class="btn btn-primary">확인</button>
    <button class="btn">뒤로가기</button>
</div>

<form class="form-horizontal" action="#">
    <fieldset>
        <div class="control-group">
            <label class="control-label" for="focusedInput">Focused input</label>

            <div class="controls">
                <input class="input-xlarge focused" id="focusedInput" type="text"
                       value="This is focused…">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="disabledInput">Disabled input</label>

            <div class="controls">
                <input class="input-xlarge disabled" id="disabledInput" type="text"
                       placeholder="Disabled input here…" disabled="">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="optionsCheckbox2">Disabled checkbox</label>

            <div class="controls">
                <label class="checkbox">
                    <input type="checkbox" id="optionsCheckbox2" value="option1" disabled="">
                    This is a disabled checkbox
                </label>
            </div>
        </div>
        <div class="control-group warning">
            <label class="control-label" for="inputWarning">Input with warning</label>

            <div class="controls">
                <input type="text" id="inputWarning">
                <span class="help-inline">Something may have gone wrong</span>
            </div>
        </div>
        <div class="control-group success">
            <label class="control-label" for="selectError">Select with success</label>

            <div class="controls">
                <select id="selectError">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <span class="help-inline">Woohoo!</span>
            </div>
        </div>
    </fieldset>
</form>
<div class="form-actions">
    <button class="btn btn-primary">확인</button>
    <button class="btn">뒤로가기</button>
</div>
</div>
</div>
</div>
</div>
<footer></footer>
<script type="text/javascript" src="libs/jquery/jquery-1.7.2.min.js"></script>
<script type="text/javascript" src="libs/jquery/plugins/jquery.transit.js"></script>
<script type="text/javascript" src="../transition.js"></script>
<script type="text/javascript" src="libs/iscroll/iscroll.js"></script>
<script type="text/javascript">
    var scroll1, scroll2;
    function destroyScroll() {
        if (typeof(scroll1) == "object") {
            scroll1.destroy();
        }
        if (typeof(scroll2) == "object") {
            scroll2.destroy();
        }
    }

    function loaded() {
        destroyScroll();
        scroll1 = new iScroll('front', {
            useTransition:true,
            onBeforeScrollStart:function (e) {
                var target = e.target;
                while (target.nodeType != 1) target = target.parentNode;

                if (target.tagName != 'SELECT' && target.tagName != 'INPUT' && target.tagName != 'TEXTAREA')
                    e.preventDefault();
            } });


        scroll2 = new iScroll('back', {
            useTransition:true,
            onBeforeScrollStart:function (e) {
                var target = e.target;
                while (target.nodeType != 1) target = target.parentNode;

                if (target.tagName != 'SELECT' && target.tagName != 'INPUT' && target.tagName != 'TEXTAREA')
                    e.preventDefault();
            } });
    }

    document.addEventListener('touchmove', function (e) {
        e.preventDefault();
    }, false);

    document.addEventListener('DOMContentLoaded', loaded, false);

    // 주소 툴바 감추기
    window.addEventListener('load', function () {
        setTimeout(scrollTo, 0, 0, 1);
    }, false);

    $("#front .btn").live("click", function (e) {
        var transitionType = $(this).attr("data-transition"),
                inTargetID = "#back",
                outTargetID = "#front";
        destroyScroll();
        CSTransition.launcher({
            transitionType:transitionType, // 화면전환 효과 기본 None(효과 없음)
            inTarget:{
                id:inTargetID // 들어오는 페이지의 ID 값
            },
            outTarget:{
                id:outTargetID // 나가는 페이지의 ID 값
            },
            isReverse:false, // 뒤로가기 여부
            done:function () {
                $("#front").removeClass("current");
                $("#back").addClass("current");
                loaded();
            }
        });
    });

    $("#back .btn").live("click", function (e) {
        var transitionType = $(this).attr("data-transition"),
                outTargetID = "#back",
                inTargetID = "#front";
        destroyScroll();
        CSTransition.launcher({
            inTarget:{
                id:inTargetID // 들어오는 페이지의 ID 값
            },
            outTarget:{
                id:outTargetID // 나가는 페이지의 ID 값
            },
            isReverse:true, // 뒤로가기 여부
            done:function () {
                $("#front").addClass("current");
                $("#back").removeClass("current");
                loaded();
            }
        });
    });
</script>
</body>
</html>